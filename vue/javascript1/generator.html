<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function* test(){
            let a=1+2;
            yield 2;
            yield 3;
        }
        let b=test();
        console.log(b.next());
        console.log(b.next());
        console.log(b.next());
        //simply becoming of generator
        function generator(cb){
            return (function(){
                var object={
                next:0,
                stop:function(){}
                };
                return{
                next:function(){
                var ret=cb(object);
                if(ret===undefined) return {value:undefined,done:true};
                return{
                value:ret,
                done:false
                };
                }
                };
            })();
        }
        function test(){
            var a;
            return generator(function(_context){
            while(1){
                switch((_context.prev=_context.next)){
                    //yield split code as part
                    //operate a part when operating a next
                    //indicating needing to operate which part for next time
                    case 0:
                        a=1+2;
                        _context.next=4;
                        return 2;
                    case 4:
                        _context.next=6;
                        return 3;
                    case 6:
                    case "end":
                        return _context.stop();
                }
            }
            });
        }
    </script>
</body>
</html>